CLEAR COLUMNS
CLEAR BREAKS
TTITLE OFF 


ALTER SESSION SET NLS_DATE_FORMAT = 'DD-MON-YYYY';
SET LINESIZE 95
SET PAGESIZE 30

COLUMN CUSTOMER_ID HEADING CUST_ID
COLUMN CUSTOMER_ID FORMAT  A10
COLUMN FIRST_NAME  FORMAT  A15
COLUMN LAST_NAME   FORMAT  A15
COLUMN TYPE	   FORMAT  A15
COLUMN START_DATE  FORMAT  A15
COLUMN EXPIRY_DATE FORMAT  A15

ACCEPT input_date CHAR PROMPT 'Enter Year(YYYY):'

TTITLE LEFT 'List all customers who have registered as a member of our cinema in a particular &input_date year' skip 2  CENTER 'Page: ' FORMAT 99 SQL.PNO SKIP 2
BREAK ON TYPE SKIP PAGE

SELECT C.CUSTOMER_ID,C.FIRST_NAME,C.LAST_NAME,M.TYPE,M.START_DATE,M.EXPIRY_DATE
FROM customer C
JOIN MEMBER M ON C.CUSTOMER_ID = M.CUSTOMER_ID
WHERE TO_CHAR(M.START_DATE) LIKE '%&input_date'
ORDER BY M.TYPE ASC,M.START_DATE ASC;
