SET LINESIZE 100
SET PAGESIZE 50

CLEAR COLUMNS
CLEAR BREAKS
TTITLE OFF 

COLUMN CUSTOMER_ID HEADING CUST_ID
COLUMN CUSTOMER_ID FORMAT  A10
COLUMN FIRST_NAME  FORMAT  A15
COLUMN LAST_NAME   FORMAT  A15
COLUMN ORDER_DATE  FORMAT  A11
COLUMN GENDER	   FORMAT  A6 

ACCEPT input_food_name CHAR PROMPT 'Enter Food Name:'

TTITLE LEFT '------- List all customers who have ordered a specific food-------' skip 2  CENTER 'Page: ' FORMAT 99 SQL.PNO SKIP 2

BREAK ON GENDER SKIP PAGE ON QUANTITY SKIP 1
COMPUTE SUM LABEL 'TOTAL' OF QUANTITY ON GENDER

SELECT C.CUSTOMER_ID,C.FIRST_NAME,C.LAST_NAME,C.GENDER,O.ORDER_DATE,O.QUANTITY
FROM CUSTOMER C
JOIN ORDER_DETAILS O ON C.CUSTOMER_ID = O.CUSTOMER_ID
JOIN FOOD_ITEM F ON O.FOOD_ID = F.FOOD_ID
WHERE F.NAME = '&input_food_name'
ORDER BY C.GENDER ASC,O.ORDER_DATE ASC;
